<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="it" lang="it">
    <head>
        <!--[if lt IE 9]>
            <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
        <![endif]-->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="robots" content="index, follow, all" />
        <meta name="Author" content="Extreme Sensio" />
        <meta name="Language" content="en"/>
        <meta name="Copyright" content="Sensio Labs" />
        <meta name="Publisher" content="Sensio Labs" />
        <meta name="Description" content="Symfony - Open-Source PHP web framework" />
        <meta name="Keywords" content="symfony2, symfony, project, framework, php, php5, open-source, components, symphony, symfony framework, symfony tutorial" />

        <link rel="search" type="application/opensearchdescription+xml" href="http://symfony.com/opensearch/documentation.xml" title="Symfony2 documentation" />

        <title>Creare pagine in Symfony2 (current) - Symfony</title>

                        <link rel="stylesheet" href="/css/compiled/all.css?v=3" />
                 <link href="https://connect.sensiolabs.com/css/sln.css" rel="stylesheet" type="text/css" media="all" />

                
                
                    <script type="text/javascript" src="/js/all.js?v=3"></script>
        
                
        <!--[if lt IE 9]>
          <script src="/js/common/html5.js" type="text/javascript"></script>
        <![endif]-->

        <!--[if IE 6]>
            <script src="/js/common/DD_belatedPNG_0.0.7a-min.js" type="text/javascript"></script>
            <script src="/js/common/ExtendDD_belatedPNG_0.0.7a.js" type="text/javascript"></script>
            <script type="text/javascript">
                DD_belatedPNG.fix('.png_fix');
            </script>
        <![endif]-->

        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-89393-6']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
    </head>

    <body>
        <div id="content_wrapper" class="">
            <div id="sln"></div>

            <div class="content">
                

    
<div class="header">
    <div class="content_header clear_fix">
        <div class="illustration_logo_header">
                            <a href="/"><img src="/images/common/logo/logo_symfony_header.png" alt="Symfony" class="png_fix" /></a>
                    </div>
        <div class="box_download clear_fix">
            <div class="legend_download">
                <img src="/images/en/a_sensiolabs_product.png" alt="a SensioLabs product" class="png_fix" />
            </div>
            <div class="download_button_wrapper">
                <a href="/download" class="download_button">    <span class="border_l png_fix">
        <span class="border_r png_fix">
            <span class="btn_bg png_fix">
                DOWNLOAD NOW
            </span>
        </span>
    </span>
</a>
            </div>
        </div>
    </div>
</div>

<div class="main_menu clear_fix" id="main_menu_id">
    <ul class="clear_fix">
        <li class="first what_is_symfony"><a href="/what-is-symfony">What is Symfony?</a></li>
        <li class="get_started">
            <a href="/get_started">Get started</a>
                    </li>
        <li class="learn selected"><a href="/doc/current/index.html">Documentation</a></li>
        <li class="community"><a href="/community">Community</a></li>
        <li class="services"><a href="/services">Services</a></li>
        <li class="blog">
            <a href="/blog/">News</a>
            <div class="box_dropdown_wrapper">
    <div class="border_l">
        <div class="middle_border_l">
            <div class="border_r">
                <div class="middle_border_r">
                    <div class="content_wrapper">
                        <div class="box_content">
                                <div class="inner_drop_box_two_columns clear_fix">
        <div class="inner_drop_box_two_columns_column_01">
            <h2 class="dropdown_title">
                <div class="button"><a href="http://twitter.com/symfony" title="twitter account"><img style="width: 35px; margin-top: -10px" src="/images/common/picto/twitter.png" alt="Twitter" /></a></div>
                <div class="button"><a href="http://feeds.feedburner.com/symfony/blog" title="blog feed"><img src="/images/common/picto/rss.gif" alt="feed" /></a></div>
                <a href="/blog/">Latest News</a>
            </h2>

            <div class="box_article post">
                    <div class="gravatar"><a href="https://connect.sensiolabs.com/api/alternates/4aed4f5d-e0cb-4320-902f-885fddaa7d15"><img width="57" height="57" src="https://connect.sensiolabs.com/api/images/4aed4f5d-e0cb-4320-902f-885fddaa7d15.png?format=57x57" alt="Fabien Potencier"></a></div>
                <h3 class="title_05"><a href="/blog/symfony-2-3-schedule-update">Symfony 2.3 schedule update</a></h3>
                <div class="complementaries_informations">
    by
            <a href="https://connect.sensiolabs.com/api/alternates/4aed4f5d-e0cb-4320-902f-885fddaa7d15">Fabien Potencier</a>
            – April 30, 2013
        </div>
            </div>

                <div class="box_hr"><hr /></div>


            <div class="box_article">
                <h2 class="title_05"><a href="/blog/a-week-of-symfony-330-22-28-april-2013">What happened last week in Symfony?</a></h2>
                <p>This week, it was announced that the Symfony 2.3 Standard Edition will only include MIT/BSD licensed libraries and bundles (<a href="https://github.com/symfony/symfony-standard/pull/535">view pull request</a>). In addition, Symfony 2.3 <a href="http://twitter.com/fabpot/status/327525715903905793">was declared nearly completed</a>, with just a few important PR remaining before the first beta version. Lastly, a new version of <a href="http://desktop.sensiolabs.org/">SensioLabs Desktop</a> was released.</p>
            </div>
        </div>
        <div class="inner_drop_box_two_columns_column_02">
            <h2 class="dropdown_title">
                <div class="button"><a href="http://twitter.com/symfony" title="twitter account"><img style="width: 35px; margin-top: -10px" src="/images/common/picto/twitter.png" alt="Twitter" /></a></div>
                <div class="button"><a href="http://feeds.feedburner.com/symfony/events" title="events rss"><img src="/images/common/picto/rss.gif" alt="RSS" /></a></div>
                <a href="/events/">Upcoming Events</a>
            </h2>

            <div class="box_article">
                <p>The Symfony Community organizes events all over the world on a regular basis. Here are the next ones.</p>
                                                            <h2 class="title_05">
                            <img src="/images/flags/de.png?v=3" />
                                                            <a href="http://www.meetup.com/sfugmd/events/113619892/">Germany, Gera &mdash; Symfony User Group Mitteldeutschland Treffen</a>
                                                    </h2>
                        <div class="event_detail">
                                                            on May 08, 2013, from 19:00 to 20:30
                                                    </div>
                                            <h2 class="title_05">
                            <img src="/images/flags/de.png?v=3" />
                                                            <a href="http://www.meetup.com/sfugcgn/events/104715432/">Germany, Köln &mdash; Treffen der Symfony User Group Cologne</a>
                                                    </h2>
                        <div class="event_detail">
                                                            on May 08, 2013, from 19:30 to 21:00
                                                    </div>
                                            <h2 class="title_05">
                            <img src="/images/flags/fr.png?v=3" />
                                                            <a href="http://sfpotparismai2013.eventbrite.fr/">France, Paris &mdash; sfPot Paris Mai - Formulaire et Tests</a>
                                                    </h2>
                        <div class="event_detail">
                                                            on May 14, 2013, from 19:30 to 21:00
                                                    </div>
                                            <h2 class="title_05">
                            <img src="/images/flags/us.png?v=3" />
                                                            <a href="http://portland2013.live.symfony.com/">United States, Portland &mdash; SymfonyLive Portland 2013</a>
                                                    </h2>
                        <div class="event_detail">
                                                            from May 20, 2013 to May 24, 2013
                                                    </div>
                                                </div>
        </div>
    </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="bottom">
        <div class="corner_l">
            <div class="corner_r">
                <div class="border"></div>
            </div>
        </div>
    </div>
</div>
        </li>
        <li class="last about"><a href="/about">About</a></li>
    </ul>
</div>

                                    <div class="main_content">
                                                    <div class="box_columns clear_fix">
                                                                                                            <div class="column_01">
                                                                                            <div class="submenu">
                                                    <ul class="list_submenu">    <li class="first selected"><a href="/it/doc/current/book/index.html">The Book</a></li>
<li><a href="/it/doc/current/cookbook/index.html">The Cookbook</a></li>
<li><a href="/it/doc/current/components/index.html">The Components</a></li>
<li><a href="/it/doc/current/reference/index.html">Reference</a></li>
<li><a href="/it/doc/current/glossary.html">Glossary</a></li>
<li><a href="/it/doc/current/genindex.html">Index</a></li>
<li><a href="/it/doc/current/bundles/index.html">Bundles</a></li>
<li><a href="/it/doc/master/cmf/index.html">Symfony CMF</a></li>
<li><a href="/it/doc/master/contributing/code/security.html#security-advisories">Security Advisories</a></li>
<li><a href="/legacy/doc">Docs for symfony 1.x</a></li>
<li><a href="/it/doc/current/contributing/index.html">Contributing</a></li>
<li><a href="/talks">Talks</a></li>
<li><a href="http://trainings.sensiolabs.com/">Trainings</a></li>
<li class="last"><a href="http://books.sensiolabs.com">Books</a></li>
</ul>
                                                </div>
                                                                        <div class="toc">
                <h2 class="title_05">Table of Contents</h2>
                <div class="toc-content">
                    <ul>
<li><a class="reference internal" href="#">Creare pagine in Symfony2</a><ul>
<li><a class="reference internal" href="#la-pagina-ciao-symfony">La pagina &quot;Ciao Symfony!&quot;</a><ul>
<li><a class="reference internal" href="#prima-di-iniziare-creare-il-bundle">Prima di iniziare: creare il bundle</a></li>
<li><a class="reference internal" href="#passo-1-creare-la-rotta">Passo 1: creare la rotta</a></li>
<li><a class="reference internal" href="#passo-2-creare-il-controllore">Passo 2: creare il controllore</a></li>
<li><a class="reference internal" href="#passo-3-facoltativo-creare-il-template">Passo 3 (facoltativo): creare il template</a></li>
</ul>
</li>
<li><a class="reference internal" href="#struttura-delle-cartelle">Struttura delle cartelle</a><ul>
<li><a class="reference internal" href="#la-cartella-web">La cartella web</a></li>
<li><a class="reference internal" href="#la-cartella-dell-applicazione-app">La cartella dell'applicazione (<tt class="docutils literal"><code>app</code></tt>)</a></li>
<li><a class="reference internal" href="#la-cartella-dei-sorgenti-src">La cartella dei sorgenti (<tt class="docutils literal"><code>src</code></tt>)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#il-sistema-dei-bundle">Il sistema dei bundle</a><ul>
<li><a class="reference internal" href="#creare-un-bundle">Creare un bundle</a></li>
<li><a class="reference internal" href="#struttura-delle-cartelle-dei-bundle">Struttura delle cartelle dei bundle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configurazione-dell-applicazione">Configurazione dell'applicazione</a><ul>
<li><a class="reference internal" href="#esportazione-della-configurazione-predefinita">Esportazione della configurazione predefinita</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ambienti">Ambienti</a><ul>
<li><a class="reference internal" href="#configurazione-degli-ambienti">Configurazione degli ambienti</a></li>
</ul>
</li>
<li><a class="reference internal" href="#riepilogo">Riepilogo</a></li>
</ul>
</li>
</ul>

                </div>
            </div>
            
    <div class="feedback">
    <h2 class="title_05">Questions &amp; Feedback</h2>
    <p>
      <em>Found a typo or an error?</em><br />
      <em>Want to improve this document?</em> <a href="https://github.com/symfony/symfony-docs/edit/2.2/book/page_creation.rst">Edit</a> it.
    </p>
    <p>
      <em>Need support or have a technical question?</em><br />
      Post to the <a href="http://groups.google.com/group/symfony2">user mailing-list</a>.
     </p>
</div>
    <div id="license">
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
        <img alt="Creative Commons License" src="http://symfony.com/images/license.png" />
    </a>
    <div>
        This <span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/MovingImage" rel="dc:type">work</span> is licensed under a
        <br />
        Creative Commons
        <br />
        Attribution-Share Alike 3.0
        <br />
        Unported <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">License</a>.
    </div>
</div>
                                                                                                    
<div class="ads">
        <div class="box_hr"><hr /></div>


            <div class="ad" id="ad_trainings_1">
            <h3><a href="http://trainings.sensiolabs.com/en/training/getting-started-with-symfony2">Master Symfony2 fundamentals</a></h3>
            <div>Be trained by SensioLabs experts (2 to 6 day sessions -- French or English).</div>
            <div><cite>trainings.sensiolabs.com</cite></div>
        </div>
            <div class="ad" id="ad_servergrove_1">
            <h3><a href="http://symfony.com/servergrove">Symfony hosting done right</a></h3>
            <div>ServerGrove, outstanding support at the right price for your Symfony hosting needs.</div>
            <div><cite>servergrove.com</cite></div>
        </div>
            <div class="ad" id="ad_support_1">
            <h3><a href="http://sensiolabs.com/en/support/sensiolabs_support.html">Discover the SensioLabs Support</a></h3>
            <div>Access to the SensioLabs Competency Center for an exclusive and tailor-made support on Symfony</div>
            <div><cite>sensiolabs.com</cite></div>
        </div>
    </div>

<script type="text/javascript">
    $(document).ready(function () {
                    $("#ad_trainings_1").click(function () { _gaq.push(['_trackEvent', 'Ads', 'Ads', 'trainings_1']); });
                    $("#ad_servergrove_1").click(function () { _gaq.push(['_trackEvent', 'Ads', 'Ads', 'servergrove_1']); });
                    $("#ad_support_1").click(function () { _gaq.push(['_trackEvent', 'Ads', 'Ads', 'support_1']); });
            });
</script>
                                                                                                                                                    <div class="ads">
                                                        <a href="https://connect.sensiolabs.com/"><img src="/images/sensiolabs_connect.png?v=3" /></a>
                                                    </div>
                                                                                                                                    </div>
                                                                        <div class="column_02">
                                                                                    <div class="breadcrumb">
                                                <a href="/">Home</a> &raquo;
                                                            <a href="/doc/current/index.html">Documentation</a> &raquo;
    
            <a href="index.html" accesskey="U">Libro</a> &raquo;
    
    Creare pagine in Symfony2
                                            </div>

                                                                                                <div class="box_title">
                                                        <div class="box_version_wrapper">
        <div class="version_wrapper">
            <div class="version">
                2.2 version
                <span class="arrow">
                    <img src="/images/common/picto/down_arrow_white.png" alt="" />
                </span>
            </div>
            <div class="other_version">
                                    <ul>
                                                                                    <li>
                                    <a href="/it/doc/2.0/book/page_creation.html">2.0 version</a>
                                </li>
                                                                                                                <li>
                                    <a href="/it/doc/2.1/book/page_creation.html">2.1 version</a>
                                </li>
                                                                                                                                                                    <li>
                                    <a href="/it/doc/master/book/page_creation.html">master version</a>
                                </li>
                                                                        </ul>
                                                                            <hr />
                                        <ul>
                                                                                    <li>
                                    <a href="/doc/current/book/page_creation.html">English</a>
                                </li>
                                                                                                                <li>
                                    <a href="/fr/doc/current/book/page_creation.html">French</a>
                                </li>
                                                                        </ul>
                            </div>
        </div>
    </div>
                                                    <h1 class="title_01">Creare pagine in Symfony2</h1>
                                                </div>
                                            
        
                                                
    <div class="box_article doc_page">
        <div class="section" id="creare-pagine-in-symfony2">
<span id="index-0"></span><h1>Creare pagine in Symfony2<a class="headerlink" href="#creare-pagine-in-symfony2" title="Permalink to this headline">¶</a></h1>
<p>La creazione di una nuova pagina in Symfony2 è un semplice processo in due passi:</p>
<ul class="simple">
<li><em>Creare una rotta</em>: Una rotta definisce l'URL (p.e. <tt class="docutils literal"><code>/about</code></tt>) verso la pagina
e specifica un controllore (che è una funzione PHP) che Symfony2 dovrebbe
eseguire quando l'URL della richiesta in arrivo corrisponde allo schema della rotta;</li>
<li><em>Creare un controllore</em>: Un controllore è una funzione PHP che prende la richiesta in
entrata e la trasforma in un oggetto <tt class="docutils literal"><code>Response</code></tt> di Symfony2, che viene poi
restituito all'utente.</li>
</ul>
<p>Questo semplice approccio è molto bello, perché corrisponde al modo in cui funziona il web.
Ogni interazione sul web inizia con una richiesta HTTP. Il lavoro della propria applicazione
è semplicemente quello di interpretare la richiesta e restituire l'appropriata
risposta HTTP.</p>
<p>Symfony2 segue questa filosofia e fornisce strumenti e convenzioni per mantenere la propria
applicazione organizzata, man mano che cresce in utenti e in complessità.</p>
<div class="section" id="la-pagina-ciao-symfony">
<span id="index-1"></span><h2>La pagina &quot;Ciao Symfony!&quot;<a class="headerlink" href="#la-pagina-ciao-symfony" title="Permalink to this headline">¶</a></h2>
<p>Iniziamo con una variazione della classica applicazione &quot;Ciao mondo!&quot;. Quando avremo
finito, l'utente sarà in grado di ottenere un saluto personale (come &quot;Ciao Symfony&quot;)
andando al seguente URL:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>http://localhost/app_dev.php/hello/Symfony
</pre></div>
</td></tr></table></div></div>
<p>In realtà, si potrà sostituire <tt class="docutils literal"><code>Symfony</code></tt> con qualsiasi altro nome da
salutare. Per creare la pagina, seguiamo il semplice processo in due passi.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p>La guida presume che Symfony2 sia stato già scaricato e il server web
configurato. L'URL precedente presume che <tt class="docutils literal"><code>localhost</code></tt> punti alla cartella
<tt class="docutils literal"><code>web</code></tt> del proprio nuovo progetto Symfony2. Per informazioni dettagliate su
questo processo, vedere la documentazione del server web usato.
Ecco le pagine di documentazione per alcuni server web:</p>
<ul class="last simple">
<li>Per il server Apache, fare riferimento alla <a class="reference external" href="http://httpd.apache.org/docs/2.0/mod/mod_dir.html">documentazione su DirectoryIndex di Apache</a>.</li>
<li>Per Nginx, fare riferimento alla <a class="reference external" href="http://wiki.nginx.org/HttpCoreModule#location">documentazione su HttpCoreModule di Nginx</a>.</li>
</ul>
</div></div>
<div class="section" id="prima-di-iniziare-creare-il-bundle">
<h3>Prima di iniziare: creare il bundle<a class="headerlink" href="#prima-di-iniziare-creare-il-bundle" title="Permalink to this headline">¶</a></h3>
<p>Prima di iniziare, occorrerà creare un <em>bundle</em>. In Symfony2, un <a class="reference internal" href="../glossary.html#term-bundle"><em class="xref std std-term">bundle</em></a>
è come un plugin, tranne per il fatto che tutto il codice nella propria applicazione
starà dentro a un bundle.</p>
<p>Un bundle non è nulla di più di una cartella che ospita ogni cosa correlata a una
specifica caratteristica, incluse classi PHP, configurazioni e anche fogli di stile
e file JavaScript (si veda <a class="reference internal" href="#page-creation-bundles"><em>Il sistema dei bundle</em></a>).</p>
<p>Per creare un bundle chiamato <tt class="docutils literal"><code>AcmeHelloBundle</code></tt> (un bundle creato appositamente in
questo capitolo), eseguire il seguente comando e seguire le istruzioni su schermo
(usando tutte le opzioni predefinite):</p>
<div class="literal-block"><div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>php app/console generate:bundle --namespace<span class="o">=</span>Acme/HelloBundle --format<span class="o">=</span>yml
</pre></div>
</td></tr></table></div></div>
<p>Dietro le quinte, viene creata una cartella per il bundle in <tt class="docutils literal"><code>src/Acme/HelloBundle</code></tt>.
Inoltre viene aggiunta automaticamente una riga al file <tt class="docutils literal"><code>app/AppKernel.php</code></tt>, in modo
che il bundle sia registrato nel kernel:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// app/AppKernel.php</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">registerBundles</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$bundles</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="c1">// ...</span>
        <span class="k">new</span> <span class="nx">Acme\HelloBundle\AcmeHelloBundle</span><span class="p">(),</span>
    <span class="p">);</span>
    <span class="c1">// ...</span>

    <span class="k">return</span> <span class="nv">$bundles</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Ora che si è impostato il bundle, si può iniziare a costruire la propria applicazione,
dentro il bundle stesso.</p>
</div>
<div class="section" id="passo-1-creare-la-rotta">
<h3>Passo 1: creare la rotta<a class="headerlink" href="#passo-1-creare-la-rotta" title="Permalink to this headline">¶</a></h3>
<p>Per impostazione predefinita, il file di configurazione delle rotte in un'applicazione
Symfony2 si trova in <tt class="docutils literal"><code>app/config/routing.yml</code></tt>. Come ogni configurazione in Symfony2,
si può anche scegliere di usare XML o PHP per configurare le rotte.</p>
<p>Se si guarda il file principale delle rotte, si vedrà che Symfony ha già aggiunto
una voce, quando è stato generato <tt class="docutils literal"><code>AcmeHelloBundle</code></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">acme_hello</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;@AcmeHelloBundle/Resources/config/routing.yml&quot;</span>
    <span class="l-Scalar-Plain">prefix</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">/</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>

<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;@AcmeHelloBundle/Resources/config/routing.xml&quot;</span> <span class="na">prefix=</span><span class="s">&quot;/&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">addCollection</span><span class="p">(</span>
    <span class="nv">$loader</span><span class="o">-&gt;</span><span class="na">import</span><span class="p">(</span><span class="s1">&#39;@AcmeHelloBundle/Resources/config/routing.php&#39;</span><span class="p">),</span>
    <span class="s1">&#39;/&#39;</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Questa voce è molto basica: dice a Symfony2 di caricare la configurazione delle rotte
dal file <tt class="docutils literal"><code>Resources/config/routing.yml</code></tt>, che si trova dentro <tt class="docutils literal"><code>AcmeHelloBundle</code></tt>.
Questo vuol dire che si mette la configurazione delle rotte direttamente in <tt class="docutils literal"><code>app/config/routing.yml</code></tt>
o si organizzano le proprie rotte attraverso la propria applicazione, e le si importano da qui.</p>
<p>Ora che il file <tt class="docutils literal"><code>routing.yml</code></tt> del bundle è stato importato, aggiungere la nuova rotta,
che definisce l'URL della pagina che stiamo per creare:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># src/Acme/HelloBundle/Resources/config/routing.yml</span>
<span class="l-Scalar-Plain">hello</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">/hello/{name}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">AcmeHelloBundle</span><span class="p-Indicator">:</span><span class="nv">Hello</span><span class="p-Indicator">:</span><span class="nv">index</span> <span class="p-Indicator">}</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/HelloBundle/Resources/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>

<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;hello&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/hello/{name}&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AcmeHelloBundle:Hello:index<span class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/HelloBundle/Resources/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Route</span><span class="p">(</span><span class="s1">&#39;/hello/{name}&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AcmeHelloBundle:Hello:index&#39;</span><span class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Il routing consiste di due pezzi di base: lo schema (<tt class="docutils literal"><code>pattern</code></tt>), che è l'URL
a cui la rotta corrisponderà, e un array <tt class="docutils literal"><code>defaults</code></tt>, che specifica il controllore
che sarà eseguito. La sintassi dei segnaposto nello schema (<tt class="docutils literal"><code>{name}</code></tt>) è un jolly.
Vuol dire che  <tt class="docutils literal"><code>/hello/Ryan</code></tt>, <tt class="docutils literal"><code>/hello/Fabien</code></tt> o ogni altro URL simile
corrisponderanno a questa rotta. Il parametro del segnaposto <tt class="docutils literal"><code>{name}</code></tt> sarà anche
passato al controllore, in modo da poter usare il suo valore per salutare personalmente
l'utente.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Il sistema delle rotte ha molte altre importanti caratteristiche per creare strutture
di URL flessibili e potenti nella propria applicazioni. Per maggiori dettagli, si veda
il capitolo dedicato alle <a class="reference internal" href="routing.html"><em>Rotte</em></a>.</p>
</div></div>
</div>
<div class="section" id="passo-2-creare-il-controllore">
<h3>Passo 2: creare il controllore<a class="headerlink" href="#passo-2-creare-il-controllore" title="Permalink to this headline">¶</a></h3>
<p>Quando un URL come <tt class="docutils literal"><code>/hello/Ryan</code></tt> viene gestita dall'applicazione, la rotta <tt class="docutils literal"><code>hello</code></tt>
viene corrisposta e il controllore <tt class="docutils literal"><code>AcmeHelloBundle:Hello:index</code></tt> eseguito dal
framework. Il secondo passo del processo di creazione della pagina è quello di creare
tale controllore.</p>
<p>Il controllore ha il nome <em>logico</em> <tt class="docutils literal"><code>AcmeHelloBundle:Hello:index</code></tt> ed è mappato
sul metodo <tt class="docutils literal"><code>indexAction</code></tt> di una classe PHP chiamata
<tt class="docutils literal"><code>Acme\HelloBundle\Controller\Hello</code></tt>. Iniziamo creando questo file dentro il nostro
<tt class="docutils literal"><code>AcmeHelloBundle</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/HelloBundle/Controller/HelloController.php</span>
<span class="k">namespace</span> <span class="nx">Acme\HelloBundle\Controller</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">HelloController</span>
<span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>In realtà il controllore non è nulla di più di un metodo PHP, che va creato e che
Symfony eseguirà. È qui che il proprio codice usa l'informazione dalla richiesta per
costruire e preparare la risorsa che è stata richiesta. Tranne per alcuni casi avanzati,
il prodotto finale di un controllore è sempre lo stesso: un oggetto <tt class="docutils literal"><code>Response</code></tt> di
Symfony2.</p>
<p>Creare il metodo <tt class="docutils literal"><code>indexAction</code></tt>, che Symfony2 eseguirà quando la rotta <tt class="docutils literal"><code>hello</code></tt> sarà
corrisposta:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/HelloBundle/Controller/HelloController.php</span>
<span class="k">namespace</span> <span class="nx">Acme\HelloBundle\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Response</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">HelloController</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="s1">&#39;&lt;html&gt;&lt;body&gt;Ciao &#39;</span><span class="o">.</span><span class="nv">$name</span><span class="o">.</span><span class="s1">&#39;!&lt;/body&gt;&lt;/html&gt;&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Il controllore è semplice: esso crea un nuovo oggetto <tt class="docutils literal"><code>Response</code></tt>, il cui primo
parametro è il contenuto che sarà usato dalla risposta (in questo esempio, una
piccola pagina HTML).</p>
<p>Congratulazioni! Dopo aver creato solo una rotta e un controllore, abbiamo già una
pagina pienamente funzionante! Se si è impostato tutto correttamente, la propria
applicazione dovrebbe salutare:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>http://localhost/app_dev.php/hello/Ryan
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p>Si può anche vedere l'applicazione nell'<a class="reference internal" href="#environments-summary"><em>ambiente</em></a>
&quot;prod&quot;, visitando:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>http://localhost/app.php/hello/Ryan
</pre></div>
</td></tr></table></div></div>
<p>Se si ottiene un errore, è probabilmente perché occorre pulire la cache,
eseguendo:</p>
<div class="literal-block"><div class="last highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>php app/console cache:clear --env<span class="o">=</span>prod --no-debug
</pre></div>
</td></tr></table></div></div>
</div></div>
<p>Un terzo passo, facoltativo ma comune, del processo è quello di creare un template.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">I controllori sono il punto principale di ingresso del proprio codice e un ingrediente
chiave della creazione di pagine. Si possono trovare molte più informazioni nel
<a class="reference internal" href="controller.html"><em>Capitolo sul controllore</em></a>.</p>
</div></div>
</div>
<div class="section" id="passo-3-facoltativo-creare-il-template">
<h3>Passo 3 (facoltativo): creare il template<a class="headerlink" href="#passo-3-facoltativo-creare-il-template" title="Permalink to this headline">¶</a></h3>
<p>I template consentono di spostare tutta la presentazione (p.e. il codice HTML) in un file
separato e riusare diverse porzioni del layout della pagina. Invece di scrivere il codice
HTML dentro al controllore, meglio rendere un template:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/HelloBundle/Controller/HelloController.php</span>
<span class="k">namespace</span> <span class="nx">Acme\HelloBundle\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Bundle\FrameworkBundle\Controller\Controller</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">HelloController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span>
            <span class="s1">&#39;AcmeHelloBundle:Hello:index.html.twig&#39;</span><span class="p">,</span>
            <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">)</span>
        <span class="p">);</span>

        <span class="c1">// rende invece un template PHP</span>
        <span class="c1">// return $this-&gt;render(</span>
        <span class="c1">//     &#39;AcmeHelloBundle:Hello:index.html.php&#39;,</span>
        <span class="c1">//     array(&#39;name&#39; =&gt; $name)</span>
        <span class="c1">// );</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Per poter usare il  metodo <tt class="docutils literal"><code>render()</code></tt>, il controllore deve estendere la classe
<tt class="docutils literal"><code>Symfony\Bundle\FrameworkBundle\Controller\Controller</code></tt> (documentazione API:
<tt class="docutils literal"><code><a class="reference external" href="http://api.symfony.com/2.2/Symfony/Bundle/FrameworkBundle/Controller/Controller.html" title="Symfony\Bundle\FrameworkBundle\Controller\Controller">Controller</a></code></tt>),
che aggiunge scorciatoie per compiti comuni nei controllori. Ciò viene fatto
nell'esempio precedente aggiungendo l'istruzione <tt class="docutils literal"><code>use</code></tt> alla riga 4 ed
estendendo <tt class="docutils literal"><code>Controller</code></tt> alla riga 6.</p>
</div></div>
<p>Il metodo <tt class="docutils literal"><code>render()</code></tt> crea un oggetto <tt class="docutils literal"><code>Response</code></tt> riempito con il contenuto del
template dato. Come ogni altro controllore, alla fine l'oggetto <tt class="docutils literal"><code>Response</code></tt>
viene restituito.</p>
<p>Si noti che ci sono due diversi esempi su come rendere il template. Per impostazione
predefinita, Symfony2 supporta due diversi linguaggi di template: i classici
template PHP e i template, concisi ma potenti, <a class="reference external" href="http://twig.sensiolabs.org">Twig</a>. Non ci si allarmi,
si è liberi di scegliere tra i due, o anche tutti e due nello stesso progetto.</p>
<p>Il controllore rende il template <tt class="docutils literal"><code>AcmeHelloBundle:Hello:index.html.twig</code></tt>,
che usa la seguente convenzioni dei nomi:</p>
<blockquote>
<div><strong>NomeBundle</strong>:<strong>NomeControllore</strong>:<strong>NomeTemplate</strong></div></blockquote>
<p>Questo è il nome <em>logico</em> del template, che è mappato su una locazione fisica,
usando la seguente convenzione:</p>
<blockquote>
<div><strong>/percorso/di/NomeBundle</strong>/Resources/views/<strong>NomeControllore</strong>/<strong>NomeTemplate</strong></div></blockquote>
<p>In questo caso, <tt class="docutils literal"><code>AcmeHelloBundle</code></tt> è il nome del bundle, <tt class="docutils literal"><code>Hello</code></tt> è il
controllore e <tt class="docutils literal"><code>index.html.twig</code></tt> il template:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="x"> </span><span class="c">{# src/Acme/HelloBundle/Resources/views/Hello/index.html.twig #}</span><span class="x"></span>
<span class="x"> </span><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;::base.html.twig&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="x"> </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">     Ciao </span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">!</span>
<span class="x"> </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="nx">src</span><span class="o">/</span><span class="nx">Acme</span><span class="o">/</span><span class="nx">HelloBundle</span><span class="o">/</span><span class="nx">Resources</span><span class="o">/</span><span class="nx">views</span><span class="o">/</span><span class="nx">Hello</span><span class="o">/</span><span class="nx">index</span><span class="o">.</span><span class="nx">html</span><span class="o">.</span><span class="nx">php</span> <span class="o">--&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;::base.html.php&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">Ciao </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">!</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Analizziamo il template Twig riga per riga:</p>
<ul class="simple">
<li><em>riga 2</em>: Il token <tt class="docutils literal"><code>extends</code></tt> definisce un template padre. Il template definisce
esplicitamente un file di layout, dentro il quale sarà inserito.</li>
<li><em>riga 4</em>: Il token <tt class="docutils literal"><code>block</code></tt> dice che ogni cosa al suo interno va posta dentro
un blocco chiamato <tt class="docutils literal"><code>body</code></tt>. Come vedremo, è responsabilità del template padre
(<tt class="docutils literal"><code>base.html.twig</code></tt>) rendere alla fine il blocco chiamato
<tt class="docutils literal"><code>body</code></tt>.</li>
</ul>
<p>Il template padre, <tt class="docutils literal"><code>::base.html.twig</code></tt>, manca delle porzioni <strong>NomeBundle</strong>
e <strong>NomeControllore</strong> del suo nome (per questo ha il doppio duepunti (<tt class="docutils literal"><code>::</code></tt>)
all'inizio). Questo vuol dire che il template risiede fuori dai bundle, nella
cartella <tt class="docutils literal"><code>app</code></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="literal-block"><div class="highlight-html+jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">{# app/Resources/views/base.html.twig #}</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>Benvenuto!<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="nt">&lt;/title&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;shortcut icon&quot;</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;favicon.ico&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">javascripts</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="nx">app</span><span class="o">/</span><span class="nx">Resources</span><span class="o">/</span><span class="nx">views</span><span class="o">/</span><span class="nx">base</span><span class="o">.</span><span class="nx">html</span><span class="o">.</span><span class="nx">php</span> <span class="o">--&gt;</span>
<span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">meta</span> <span class="nx">http</span><span class="o">-</span><span class="nx">equiv</span><span class="o">=</span><span class="s2">&quot;Content-Type&quot;</span> <span class="nx">content</span><span class="o">=</span><span class="s2">&quot;text/html; charset=utf-8&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;&lt;?</span><span class="nx">php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;Benvenuto!&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/title&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;stylesheets&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        &lt;link rel=&quot;shortcut icon&quot; href=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span class="p">(</span><span class="s1">&#39;favicon.ico&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&quot; /&gt;</span>
<span class="x">    &lt;/head&gt;</span>
<span class="x">    &lt;body&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;_content&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;javascripts&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>Il template di base definisce il layout HTML e rende il blocco <tt class="docutils literal"><code>body</code></tt>, che era
stato definito nel template <tt class="docutils literal"><code>index.html.twig</code></tt>. Rende anche un blocco <tt class="docutils literal"><code>title</code></tt>,
che si può scegliere di definire nel template nel template <tt class="docutils literal"><code>index.html.twig</code></tt>.
Poiché non è stato definito il blocco <tt class="docutils literal"><code>title</code></tt> nel template figlio, il suo valore
predefinito è &quot;Benvenuto!&quot;.</p>
<p>I template sono un modo potente per rendere e organizzare il contenuto della propria
pagina. Un template può rendere qualsiasi cosa, dal codice HTML al CSS, o ogni
altra cosa che il controllore abbia bisogno di restituire.</p>
<p>Nel ciclo di vita della gestione di una richiesta, il motore dei template è solo
uno strumento opzionale. Si ricordi che lo scopo di ogni controllore è quello di
restituire un oggetto <tt class="docutils literal"><code>Response</code></tt>. I template sono uno strumento potente, ma
facoltativo, per creare il contenuto per un oggetto <tt class="docutils literal"><code>Response</code></tt>.</p>
</div>
</div>
<div class="section" id="struttura-delle-cartelle">
<span id="index-2"></span><h2>Struttura delle cartelle<a class="headerlink" href="#struttura-delle-cartelle" title="Permalink to this headline">¶</a></h2>
<p>Dopo solo poche sezioni, si inizia già a capire la filosofia che sta dietro alla
creazione e alla resa delle pagine in Symfony2. Abbiamo anche già iniziato a vedere
come i progetti Symfony2 siano strutturati e organizzati. Alla fine di questa sezione,
sapremo dove cercare e inserire i vari tipi di file, e perché.</p>
<p>Sebbene interamente flessibili, per impostazione predefinita, ogni <a class="reference internal" href="../glossary.html#term-applicazione"><em class="xref std std-term">applicazione</em></a>
Symfony ha la stessa struttura di cartelle raccomandata:</p>
<ul class="simple">
<li><tt class="docutils literal"><code>app/</code></tt>: Questa cartella contiene la configurazione dell'applicazione;</li>
<li><tt class="docutils literal"><code>src/</code></tt>: Tutto il codice PHP del progetto sta all'interno di questa cartella;</li>
<li><tt class="docutils literal"><code>vendor/</code></tt>: Ogni libreria dei venditori è inserita qui, per convenzione;</li>
<li><tt class="docutils literal"><code>web/</code></tt>: Questa è la cartella radice del web e contiene ogni file accessibile pubblicamente;</li>
</ul>
<div class="section" id="la-cartella-web">
<h3>La cartella web<a class="headerlink" href="#la-cartella-web" title="Permalink to this headline">¶</a></h3>
<p>La cartella radice del web è la casa di tutti i file pubblici e statici, inclusi
immagini, fogli di stile, file JavaScript. È anche li posto in cui stanno tutti
i <a class="reference internal" href="../glossary.html#term-front-controller"><em class="xref std std-term">front controller</em></a>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// web/app.php</span>
<span class="k">require_once</span> <span class="nx">__DIR__</span><span class="o">.</span><span class="s1">&#39;/../app/bootstrap.php.cache&#39;</span><span class="p">;</span>
<span class="k">require_once</span> <span class="nx">__DIR__</span><span class="o">.</span><span class="s1">&#39;/../app/AppKernel.php&#39;</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Request</span><span class="p">;</span>

<span class="nv">$kernel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AppKernel</span><span class="p">(</span><span class="s1">&#39;prod&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
<span class="nv">$kernel</span><span class="o">-&gt;</span><span class="na">loadClassCache</span><span class="p">();</span>
<span class="nv">$kernel</span><span class="o">-&gt;</span><span class="na">handle</span><span class="p">(</span><span class="nx">Request</span><span class="o">::</span><span class="na">createFromGlobals</span><span class="p">())</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></div>
<p>Il file del front controller (<tt class="docutils literal"><code>app.php</code></tt> in questo esempio) è il file PHP che viene
eseguito quando si usa un'applicazione Symfony2 e il suo compito è quello di usare una
classe kernel, <tt class="docutils literal"><code>AppKernel</code></tt>, per inizializzare l'applicazione.</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p>Aver un front controller vuol dire avere URL diverse e più flessibili rispetto
a una tipica applicazione in puro PHP. Quando si usa un front controller,
gli URL sono formattati nel modo seguente:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>http://localhost/app.php/hello/Ryan
</pre></div>
</td></tr></table></div></div>
<p>Il front controller, <tt class="docutils literal"><code>app.php</code></tt>, viene eseguito e l'URL &quot;interno&quot;
<tt class="docutils literal"><code>/hello/Ryan</code></tt> è dirottato internamente, usando la configurazione delle rotte.
Usando <tt class="docutils literal"><code>mod_rewrite</code></tt> di Apache, si può forzare l'esecuzione del file <tt class="docutils literal"><code>app.php</code></tt>
senza bisogno di specificarlo nell'URL:</p>
<div class="literal-block"><div class="last highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>http://localhost/hello/Ryan
</pre></div>
</td></tr></table></div></div>
</div></div>
<p>Sebbene i front controller siano essenziali nella gestione di ogni richiesta, raramente
si avrà bisogno di modificarli o anche di pensarci. Saranno brevemente menzionati ancora
nella sezione <a class="reference internal" href="#ambienti">Ambienti</a>.</p>
</div>
<div class="section" id="la-cartella-dell-applicazione-app">
<h3>La cartella dell'applicazione (<tt class="docutils literal"><code>app</code></tt>)<a class="headerlink" href="#la-cartella-dell-applicazione-app" title="Permalink to this headline">¶</a></h3>
<p>Come visto nel front controller, la classe <tt class="docutils literal"><code>AppKernel</code></tt> è il punto di ingresso principale
dell'applicazione ed è responsabile di tutta la configurazione. Per questo è memorizzata
nella cartella <tt class="docutils literal"><code>app/</code></tt>.</p>
<p>Questa classe deve implementare due metodi, che definiscono tutto ciò di cui Symfony
ha bisogno di sapere sulla propria applicazione. Non ci si deve preoccupare di questi
metodi all'inizio, Symfony li riempe al posto nostro con delle impostazioni
predefinite.</p>
<ul class="simple">
<li><tt class="docutils literal"><code>registerBundles()</code></tt>: Restituisce un array di tutti bundle necessari per eseguire
l'applicazione (vedere <a class="reference internal" href="#page-creation-bundles"><em>Il sistema dei bundle</em></a>);</li>
<li><tt class="docutils literal"><code>registerContainerConfiguration()</code></tt>: Carica il file della configurazione principale
dell'applicazione (vedere la sezione <a class="reference internal" href="#configurazione-dell-applicazione">Configurazione dell'applicazione</a>).</li>
</ul>
<p>Nello sviluppo quotidiano, per lo più si userà la cartella <tt class="docutils literal"><code>app/</code></tt> per modificare i
file di configurazione e delle rotte nella cartella <tt class="docutils literal"><code>app/config/</code></tt> (vedere
<a class="reference internal" href="#configurazione-dell-applicazione">Configurazione dell'applicazione</a>). Essa contiene anche la cartella della cache
dell'applicazione (<tt class="docutils literal"><code>app/cache</code></tt>), la cartella dei log (<tt class="docutils literal"><code>app/logs</code></tt>) e la cartella
dei file risorsa a livello di applicazione, come i template (<tt class="docutils literal"><code>app/Resources</code></tt>).
Ognuna di queste cartella sarà approfondita nei capitoli successivi.</p>
<div class="admonition-wrapper" id="autoloading-introduction-sidebar">
<div class="sidebar"></div><div class="admonition admonition-sidebar"><p class="first sidebar-title">Autoload</p>
<p>Quando Symfony si carica, un file speciale chiamato <tt class="docutils literal"><code>app/autoload.php</code></tt> viene incluso.
Questo file è responsabile di configurare l'autoloader, che auto-caricherà i file
dell'applicazione dalla cartella <tt class="docutils literal"><code>src/</code></tt> e le librerie di terze parti dalla
cartella <tt class="docutils literal"><code>vendor/</code></tt>.</p>
<p>Grazie all'autoloader, non si avrà mai bisogno di usare le istruzioni <tt class="docutils literal"><code>include</code></tt>
o <tt class="docutils literal"><code>require</code></tt>. Al posto loro, Symfony2 usa lo spazio dei nomi di una classe per
determinare la sua posizione e includere automaticamente il file al posto
nostro, nel momento in cui la classe è necessaria.</p>
<p>L'autoloader è già configurato per cercare nella cartella <tt class="docutils literal"><code>src/</code></tt>
tutte le proprie classi PHP. Per poterlo far funzionare, il nome della classe
e quello del file devono seguire lo stesso schema:</p>
<div class="literal-block"><div class="last highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre>Nome della classe:
    Acme\HelloBundle\Controller\HelloController
Percorso:
    src/Acme/HelloBundle/Controller/HelloController.php
</pre></div>
</td></tr></table></div></div>
</div></div>
</div>
<div class="section" id="la-cartella-dei-sorgenti-src">
<h3>La cartella dei sorgenti (<tt class="docutils literal"><code>src</code></tt>)<a class="headerlink" href="#la-cartella-dei-sorgenti-src" title="Permalink to this headline">¶</a></h3>
<p>Detto semplicemente, la cartella <tt class="docutils literal"><code>src/</code></tt> contiene tutto il codice (codice PHP,
template, file di configurazione, fogli di stile, ecc.) che guida la <em>propria</em>
applicazione. Quando si sviluppa, la gran parte del proprio lavoro sarà svolto
dentro uno o più bundle creati in questa cartella.</p>
<p>Ma cos'è esattamente un <a class="reference internal" href="../glossary.html#term-bundle"><em class="xref std std-term">bundle</em></a>?</p>
</div>
</div>
<div class="section" id="il-sistema-dei-bundle">
<span id="page-creation-bundles"></span><h2>Il sistema dei bundle<a class="headerlink" href="#il-sistema-dei-bundle" title="Permalink to this headline">¶</a></h2>
<p>Un bundle è simile a un plugin in altri software, ma anche meglio. La differenza
fondamentale è che <em>tutto</em> è un bundle in Symfony2, incluse le funzionalità
fondamentali del framework o il codice scritto per la propria applicazione.
I bundle sono cittadini di prima classe in Symfony2. Questo fornisce la flessibilità
di usare caratteristiche già pronte impacchettate in <cite>bundle di terze parti</cite> o di
distribuire i propri bundle. Rende facile scegliere quali caratteristiche abilitare
nella propria applicazione per ottimizzarla nel modo preferito.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Pur trovando qui i fondamentali, un'intera ricetta è dedicata all'organizzazione e
alle pratiche migliori in <a class="reference internal" href="../cookbook/bundles/best_practices.html"><em>bundle</em></a>.</p>
</div></div>
<p>Un bundle è semplicemente un insieme strutturato di file dentro una cartella, che implementa
una singola caratteristica. Si potrebbe creare un <tt class="docutils literal"><code>BlogBundle</code></tt>, un <tt class="docutils literal"><code>ForumBundle</code></tt> o un
bundle per la gestione degli utenti (molti di questi già esistono come bundle open source).
Ogni cartella contiene tutto ciò che è relativo a quella caratteristica, inclusi file
PHP, template, fogli di stile, JavaScript, test e tutto il resto.
Ogni aspetto di una caratteristica esiste in un bundle e ogni caratteristica risiede
in un bundle.</p>
<p>Un'applicazione è composta di bundle, come definito nel metodo <tt class="docutils literal"><code>registerBundles()</code></tt>
della classe <tt class="docutils literal"><code>AppKernel</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// app/AppKernel.php</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">registerBundles</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$bundles</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="k">new</span> <span class="nx">Symfony\Bundle\FrameworkBundle\FrameworkBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">Symfony\Bundle\SecurityBundle\SecurityBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">Symfony\Bundle\TwigBundle\TwigBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">Symfony\Bundle\MonologBundle\MonologBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">Symfony\Bundle\SwiftmailerBundle\SwiftmailerBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">Symfony\Bundle\DoctrineBundle\DoctrineBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">Symfony\Bundle\AsseticBundle\AsseticBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">Sensio\Bundle\FrameworkExtraBundle\SensioFrameworkExtraBundle</span><span class="p">(),</span>
        <span class="k">new</span> <span class="nx">JMS\SecurityExtraBundle\JMSSecurityExtraBundle</span><span class="p">(),</span>
    <span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getEnvironment</span><span class="p">(),</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;dev&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">)))</span> <span class="p">{</span>
        <span class="nv">$bundles</span><span class="p">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Acme\DemoBundle\AcmeDemoBundle</span><span class="p">();</span>
        <span class="nv">$bundles</span><span class="p">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Symfony\Bundle\WebProfilerBundle\WebProfilerBundle</span><span class="p">();</span>
        <span class="nv">$bundles</span><span class="p">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Sensio\Bundle\DistributionBundle\SensioDistributionBundle</span><span class="p">();</span>
        <span class="nv">$bundles</span><span class="p">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Sensio\Bundle\GeneratorBundle\SensioGeneratorBundle</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$bundles</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Col metodo <tt class="docutils literal"><code>registerBundles()</code></tt>, si ha il controllo totale su quali bundle siano usati
dalla propria applicazione (inclusi i bundle del nucleo di Symfony).</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Un bundle può stare <em>ovunque</em>, purché possa essere auto-caricato (tramite
l'autoloader configurato in <tt class="docutils literal"><code>app/autoload.php</code></tt>).</p>
</div></div>
<div class="section" id="creare-un-bundle">
<h3>Creare un bundle<a class="headerlink" href="#creare-un-bundle" title="Permalink to this headline">¶</a></h3>
<p>Symfony Standard Edition contiene un task utile per creare un bundle pienamente
funzionante. Ma anche creare un bundle a mano è molto facile.</p>
<p>Per dimostrare quanto è semplice il sistema dei bundle, creiamo un nuovo bundle,
chiamato <tt class="docutils literal"><code>AcmeTestBundle</code></tt>, e abilitiamolo.</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">La parte <tt class="docutils literal"><code>Acme</code></tt> è solo un nome fittizio, che andrebbe sostituito da un nome di
&quot;venditore&quot; che rappresenti la propria organizzazione (p.e. <tt class="docutils literal"><code>ABCTestBundle</code></tt>
per un'azienda chiamata <tt class="docutils literal"><code>ABC</code></tt>).</p>
</div></div>
<p>Iniziamo creando una cartella <tt class="docutils literal"><code>src/Acme/TestBundle/</code></tt> e aggiungendo un nuovo file
chiamato <tt class="docutils literal"><code>AcmeTestBundle.php</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// src/Acme/TestBundle/AcmeTestBundle.php</span>
<span class="k">namespace</span> <span class="nx">Acme\TestBundle</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\HttpKernel\Bundle\Bundle</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">AcmeTestBundle</span> <span class="k">extends</span> <span class="nx">Bundle</span>
<span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Il nome <tt class="docutils literal"><code>AcmeTestBundle</code></tt> segue le <a class="reference internal" href="../cookbook/bundles/best_practices.html#bundles-naming-conventions"><em>convenzioni sui nomi dei bundle</em></a>.
Si potrebbe anche scegliere di accorciare il nome del bundle semplicemente a <tt class="docutils literal"><code>TestBundle</code></tt>,
chiamando la classe <tt class="docutils literal"><code>TestBundle</code></tt> (e chiamando il file <tt class="docutils literal"><code>TestBundle.php</code></tt>).</p>
</div></div>
<p>Questa classe vuota è l'unico pezzo necessario a creare un nuovo bundle. Sebbene solitamente
vuota, questa classe è potente e può essere usata per personalizzare il comportamento
del bundle.</p>
<p>Ora che abbiamo creato il bundle, abilitiamolo tramite la classe <tt class="docutils literal"><code>AppKernel</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// app/AppKernel.php</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">registerBundles</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$bundles</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="o">...</span><span class="p">,</span>
        <span class="c1">// register your bundles</span>
        <span class="k">new</span> <span class="nx">Acme\TestBundle\AcmeTestBundle</span><span class="p">(),</span>
    <span class="p">);</span>
    <span class="c1">// ...</span>

    <span class="k">return</span> <span class="nv">$bundles</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Sebbene non faccia ancora nulla, <tt class="docutils literal"><code>AcmeTestBundle</code></tt> è ora pronto per
essere usato.</p>
<p>Symfony fornisce anche un'interfaccia a linea di comando per generare
uno scheletro di base per un bundle:</p>
<div class="literal-block"><div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>php app/console generate:bundle --namespace<span class="o">=</span>Acme/TestBundle
</pre></div>
</td></tr></table></div></div>
<p>Lo scheletro del bundle è generato con controllore, template e rotte, tutti
personalizzabili. Approfondiremo più avanti la linea di comando di
Symfony2.</p>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Ogni volta che si crea un nuovo bundle o che si usa un bundle di terze parti,
assicurarsi sempre che il bundle sia abilitato in <tt class="docutils literal"><code>registerBundles()</code></tt>. Se si usa
il comando <tt class="docutils literal"><code>generate:bundle</code></tt>, l'abilitazione è automatica.</p>
</div></div>
</div>
<div class="section" id="struttura-delle-cartelle-dei-bundle">
<h3>Struttura delle cartelle dei bundle<a class="headerlink" href="#struttura-delle-cartelle-dei-bundle" title="Permalink to this headline">¶</a></h3>
<p>La struttura delle cartelle di un bundle è semplice e flessibile. Per impostazione
predefinita, il sistema dei bundle segue un insieme di convenzioni, che aiutano a
mantenere il codice coerente tra tutti i bundle di Symfony2. Si dia un'occhiata a
<tt class="docutils literal"><code>AcmeHelloBundle</code></tt>, perché contiene alcuni degli elementi più comuni di un bundle:</p>
<ul class="simple">
<li><tt class="docutils literal"><code>Controller/</code></tt> contiene i controllori del (p.e. <tt class="docutils literal"><code>HelloController.php</code></tt>);</li>
<li><tt class="docutils literal"><code>DependencyInjection/</code></tt> contiene alcune estensioni di classi,
che possono importare configurazioni di servizi, registrare passi di compilatore o altro
(tale cartella non è indispensabile);</li>
<li><tt class="docutils literal"><code>Resources/config/</code></tt> ospita la configurazione, compresa la configurazione delle
rotte (p.e. <tt class="docutils literal"><code>routing.yml</code></tt>);</li>
<li><tt class="docutils literal"><code>Resources/views/</code></tt> contiene i template, organizzati per nome di controllore (p.e.
<tt class="docutils literal"><code>Hello/index.html.twig</code></tt>);</li>
<li><tt class="docutils literal"><code>Resources/public/</code></tt> contiene le risorse per il web (immagini, fogli di stile, ecc.)
ed è copiata o collegata simbolicamente alla cartella <tt class="docutils literal"><code>web/</code></tt> del progetto, tramite
il comando <tt class="docutils literal"><code>assets:install</code></tt>;</li>
<li><tt class="docutils literal"><code>Tests/</code></tt> contiene tutti i test del bundle.</li>
</ul>
<p>Un bundle può essere grande o piccolo, come la caratteristica che implementa. Contiene
solo i file che occorrono e niente altro.</p>
<p>Andando avanti nel libro, si imparerà come persistere gli oggetti in una base dati,
creare e validare form, creare traduzioni per la propria applicazione, scrivere
test e molto altro. Ognuno di questi ha il suo posto e il suo ruolo dentro il
bundle.</p>
</div>
</div>
<div class="section" id="configurazione-dell-applicazione">
<h2>Configurazione dell'applicazione<a class="headerlink" href="#configurazione-dell-applicazione" title="Permalink to this headline">¶</a></h2>
<p>Un'applicazione è composta da un insieme di bundle, che rappresentano tutte le
caratteristiche e le capacità dell'applicazione stessa. Ogni bundle può essere
personalizzato tramite file di configurazione, scritti in YAML, XML o PHP. Per
impostazione predefinita, il file di configurazione principale risiede nella cartella
<tt class="docutils literal"><code>app/config/</code></tt> è si chiama <tt class="docutils literal"><code>config.yml</code></tt>, <tt class="docutils literal"><code>config.xml</code></tt> o <tt class="docutils literal"><code>config.php</code></tt>, a seconda
del formato scelto:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">imports</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="p-Indicator">{</span> <span class="nv">resource</span><span class="p-Indicator">:</span> <span class="nv">parameters.yml</span> <span class="p-Indicator">}</span>
    <span class="p-Indicator">-</span> <span class="p-Indicator">{</span> <span class="nv">resource</span><span class="p-Indicator">:</span> <span class="nv">security.yml</span> <span class="p-Indicator">}</span>

<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">secret</span><span class="p-Indicator">:</span>          <span class="s">&quot;%secret%&quot;</span>
    <span class="l-Scalar-Plain">router</span><span class="p-Indicator">:</span>          <span class="p-Indicator">{</span> <span class="nv">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;%kernel.root_dir%/config/routing.yml&quot;</span> <span class="p-Indicator">}</span>
    <span class="c1"># ...</span>

<span class="c1"># Configurazione di Twig</span>
<span class="l-Scalar-Plain">twig</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">debug</span><span class="p-Indicator">:</span>            <span class="s">&quot;%kernel.debug%&quot;</span>
    <span class="l-Scalar-Plain">strict_variables</span><span class="p-Indicator">:</span> <span class="s">&quot;%kernel.debug%&quot;</span>

<span class="c1"># ...</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="nt">&lt;imports&gt;</span>
    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;parameters.yml&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;security.yml&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/imports&gt;</span>

<span class="nt">&lt;framework:config</span> <span class="na">secret=</span><span class="s">&quot;%secret%&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;framework:router</span> <span class="na">resource=</span><span class="s">&quot;%kernel.root_dir%/config/routing.xml&quot;</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!-- ... --&gt;</span>
<span class="nt">&lt;/framework:config&gt;</span>

<span class="c">&lt;!-- Configurazione di Twig --&gt;</span>
<span class="nt">&lt;twig:config</span> <span class="na">debug=</span><span class="s">&quot;%kernel.debug%&quot;</span> <span class="na">strict-variables=</span><span class="s">&quot;%kernel.debug%&quot;</span> <span class="nt">/&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">import</span><span class="p">(</span><span class="s1">&#39;parameters.yml&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">import</span><span class="p">(</span><span class="s1">&#39;security.yml&#39;</span><span class="p">);</span>

<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;secret&#39;</span>          <span class="o">=&gt;</span> <span class="s1">&#39;%secret%&#39;</span><span class="p">,</span>
    <span class="s1">&#39;router&#39;</span>          <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;resource&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;%kernel.root_dir%/config/routing.php&#39;</span><span class="p">),</span>
    <span class="c1">// ...</span>
    <span class="p">),</span>
<span class="p">));</span>

<span class="c1">// Configurazione di Twig</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;twig&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;debug&#39;</span>            <span class="o">=&gt;</span> <span class="s1">&#39;%kernel.debug%&#39;</span><span class="p">,</span>
    <span class="s1">&#39;strict_variables&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;%kernel.debug%&#39;</span><span class="p">,</span>
<span class="p">));</span>

<span class="c1">// ...</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Vedremo esattamente come caricare ogni formato di file nella prossima sezione,
<a class="reference internal" href="#ambienti">Ambienti</a>.</p>
</div></div>
<p>Ogni voce di primo livello, come <tt class="docutils literal"><code>framework</code></tt> o <tt class="docutils literal"><code>twig</code></tt>, definisce la configurazione
per un particolare bundle. Per esempio, la voce <tt class="docutils literal"><code>framework</code></tt> definisce la configurazione
per il bundle del nucleo di Symfony <tt class="docutils literal"><code>FrameworkBundle</code></tt> e include configurazioni per
rotte, template e altri sistemi fondamentali.</p>
<p>Per ora, non ci preoccupiamo delle opzioni di configurazione specifiche di ogni
sezione. Il file di configurazione ha delle opzioni predefinite impostate.
Leggendo ed esplorando ogni parte di Symfony2, le opzioni di configurazione
specifiche saranno man mano approfondite.</p>
<div class="admonition-wrapper">
<div class="sidebar"></div><div class="admonition admonition-sidebar"><p class="first sidebar-title">Formati di configurazione</p>
<p>Nei vari capitoli, tutti gli esempi di configurazione saranno mostrati in tutti e
tre i formati (YAML, XML e PHP). Ciascuno ha i suoi vantaggi e svantaggi. La scelta
è lasciata allo sviluppatore:</p>
<ul class="last simple">
<li><em>YAML</em>: Semplice, pulito e leggibile (se ne può sapere di più in
&quot;<a class="reference internal" href="../components/yaml/yaml_format.html"><em>Il formato YAML</em></a>&quot;);</li>
<li><em>XML</em>: Più potente di YAML e supportato nell'autocompletamento dagli IDE;</li>
<li><em>PHP</em>: Molto potente, ma meno leggibile dei formati di configurazione standard.</li>
</ul>
</div></div>
<div class="section" id="esportazione-della-configurazione-predefinita">
<h3>Esportazione della configurazione predefinita<a class="headerlink" href="#esportazione-della-configurazione-predefinita" title="Permalink to this headline">¶</a></h3>
<p class="versionadded">
<span class="versionmodified">New in version 2.1: </span>Il comando <tt class="docutils literal"><code>config:dump-reference</code></tt> è stato aggiunto in Symfony 2.1</p>
<p>Si può esportare la configurazione predefinita per un bundle in yaml sulla console, usando
il comando <tt class="docutils literal"><code>config:dump-reference</code></tt>. Ecco un esempio di esportazione della configurazione
predefinita di FrameworkBundle:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>app/console config:dump-reference FrameworkBundle
</pre></div>
</td></tr></table></div></div>
<p>Si può anche usare l'alias dell'estensione (voce di configurazione):</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>app/console config:dump-reference framework
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Vedere la ricetta <a class="reference internal" href="../cookbook/bundles/extension.html"><em>Come esporrre una configurazione semantica per un bundle</em></a>
per informazioni sull'aggiunta di configurazioni per il proprio
bundle.</p>
</div></div>
</div>
</div>
<div class="section" id="ambienti">
<span id="environments-summary"></span><span id="index-3"></span><h2>Ambienti<a class="headerlink" href="#ambienti" title="Permalink to this headline">¶</a></h2>
<p>Un'applicazione può girare in vari ambienti. I diversi ambienti condividono lo stesso
codice PHP (tranne per il front controller), ma usano differenti configurazioni.
Per esempio, un ambiente <tt class="docutils literal"><code>dev</code></tt> salverà nei log gli avvertimenti e gli errori,
mentre un ambiente <tt class="docutils literal"><code>prod</code></tt> solamente gli errori. Alcuni file sono ricostruiti a
ogni richiesta nell'ambiente <tt class="docutils literal"><code>dev</code></tt> (per facilitare gli sviluppatori=, ma salvati
in cache nell'ambiente <tt class="docutils literal"><code>prod</code></tt>. Tutti gli ambienti stanno insieme nella stessa
macchina e sono eseguiti nella stessa applicazione.</p>
<p>Un progetto Symfony2 generalmente inizia con tre ambienti (<tt class="docutils literal"><code>dev</code></tt>, <tt class="docutils literal"><code>test</code></tt>
e <tt class="docutils literal"><code>prod</code></tt>), ma creare nuovi ambienti è facile. Si può vedere la propria applicazione
in ambienti diversi, semplicemente cambiando il front controller nel proprio
browser. Per vedere l'applicazione in ambiente <tt class="docutils literal"><code>dev</code></tt>, accedere all'applicazione
tramite il front controller di sviluppo:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>http://localhost/app_dev.php/hello/Ryan
</pre></div>
</td></tr></table></div></div>
<p>Se si preferisce vedere come l'applicazione si comporta in ambiente di produzione,
richiamare invece il front controller <tt class="docutils literal"><code>prod</code></tt>:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>http://localhost/app.php/hello/Ryan
</pre></div>
</td></tr></table></div></div>
<p>Essendo l'ambiente <tt class="docutils literal"><code>prod</code></tt> ottimizzato per la velocità, la configurazione, le
rotte e i template Twig sono compilato in classi in puro PHP e messi in cache.
Per vedere delle modifiche in ambiente <tt class="docutils literal"><code>prod</code></tt>, occorrerà pulire tali file
in cache e consentire che siano ricostruiti:</p>
<div class="literal-block"><div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ </span>php app/console cache:clear --env<span class="o">=</span>prod --no-debug
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p>Se si apre il file <tt class="docutils literal"><code>web/app.php</code></tt>, si troverà che è configurato esplicitamente
per usare l'ambiente <tt class="docutils literal"><code>prod</code></tt>:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$kernel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AppKernel</span><span class="p">(</span><span class="s1">&#39;prod&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></div>
<p class="last">Si può creare un nuovo front controller per un nuovo ambiente, copiando questo
file e cambiando <tt class="docutils literal"><code>prod</code></tt> con un altro valore.</p>
</div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">L'ambiente <tt class="docutils literal"><code>test</code></tt> è usato quando si eseguono i test automatici e non può
essere acceduto direttamente tramite il browser. Vedere il
<a class="reference internal" href="testing.html"><em>capitolo sui test</em></a> per maggiori dettagli.</p>
</div></div>
<div class="section" id="configurazione-degli-ambienti">
<span id="index-4"></span><h3>Configurazione degli ambienti<a class="headerlink" href="#configurazione-degli-ambienti" title="Permalink to this headline">¶</a></h3>
<p>La classe <tt class="docutils literal"><code>AppKernel</code></tt> è responsabile del caricare effettivamente i file
di conigurazione scelti:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// app/AppKernel.php</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">registerContainerConfiguration</span><span class="p">(</span><span class="nx">LoaderInterface</span> <span class="nv">$loader</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$loader</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span>
        <span class="nx">__DIR__</span><span class="o">.</span><span class="s1">&#39;/config/config_&#39;</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getEnvironment</span><span class="p">()</span><span class="o">.</span><span class="s1">&#39;.yml&#39;</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div>
<p>Sappiamo già che l'estensione <tt class="docutils literal"><code>.yml</code></tt> può essere cambiata in <tt class="docutils literal"><code>.xml</code></tt> o
<tt class="docutils literal"><code>.php</code></tt>, se si preferisce usare XML o PHP per scrivere la propria configurazione.
Si noti anche che ogni ambiente carica i propri file di configurazione. Consideriamo
il file di configurazione per l'ambiente <tt class="docutils literal"><code>dev</code></tt>.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="literal-block"><div class="highlight-yaml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1"># app/config/config_dev.yml</span>
<span class="l-Scalar-Plain">imports</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="p-Indicator">{</span> <span class="nv">resource</span><span class="p-Indicator">:</span> <span class="nv">config.yml</span> <span class="p-Indicator">}</span>

<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">router</span><span class="p-Indicator">:</span>   <span class="p-Indicator">{</span> <span class="nv">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;%kernel.root_dir%/config/routing_dev.yml&quot;</span> <span class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">profiler</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">only_exceptions</span><span class="p-Indicator">:</span> <span class="nv">false</span> <span class="p-Indicator">}</span>

<span class="c1"># ...</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>XML</em><div class="literal-block"><div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config_dev.xml --&gt;</span>
<span class="nt">&lt;imports&gt;</span>
    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;config.xml&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/imports&gt;</span>

<span class="nt">&lt;framework:config&gt;</span>
    <span class="nt">&lt;framework:router</span> <span class="na">resource=</span><span class="s">&quot;%kernel.root_dir%/config/routing_dev.xml&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;framework:profiler</span> <span class="na">only-exceptions=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/framework:config&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><em>PHP</em><div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// app/config/config_dev.php</span>
<span class="nv">$loader</span><span class="o">-&gt;</span><span class="na">import</span><span class="p">(</span><span class="s1">&#39;config.php&#39;</span><span class="p">);</span>

<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;router&#39;</span>   <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;resource&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;%kernel.root_dir%/config/routing_dev.php&#39;</span><span class="p">),</span>
    <span class="s1">&#39;profiler&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;only-exceptions&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">),</span>
<span class="p">));</span>

<span class="c1">// ...</span>
</pre></div>
</td></tr></table></div></div>
</li>
</ul>
</div>
<p>La voce <tt class="docutils literal"><code>imports</code></tt> è simile all'istruzione <tt class="docutils literal"><code>include</code></tt> di PHP e garantisce
che il file di configurazione principale (<tt class="docutils literal"><code>config.yml</code></tt>) sia caricato per primo.
Il resto del file gestisce la configurazione per aumentare il livello di log, oltre
ad altre impostazioni utili all'ambiente di sviluppo.</p>
<p>Sia l'ambiente <tt class="docutils literal"><code>prod</code></tt> che quello <tt class="docutils literal"><code>test</code></tt> seguono lo stesso modello: ogni ambiente
importa il file di configurazione di base e quindi modifica i suoi file di configurazione
per soddisfare le esigenze dello specifico ambiente. Questa è solo una convenzione, ma
consente di riusare la maggior parte della propria configurazione e personalizzare solo
le parti diverse tra gli ambienti.</p>
</div>
</div>
<div class="section" id="riepilogo">
<h2>Riepilogo<a class="headerlink" href="#riepilogo" title="Permalink to this headline">¶</a></h2>
<p>Congratulazioni! Ora abbiamo visto ogni aspetto fondamentale di Symfony2 e scoperto
quanto possa essere facile e flessibile. Pur essendoci ancora <em>moltissime</em>
caratteristiche da scoprire, assicuriamoci di tenere a mente alcuni aspetti
fondamentali:</p>
<ul class="simple">
<li>creare una pagine è un processo in tre passi, che coinvolge una <strong>rotta</strong>, un <strong>controllore</strong>
e (opzionalmente) un <strong>template</strong>.</li>
<li>ogni progetto contienre solo alcune cartelle principali: <tt class="docutils literal"><code>web/</code></tt> (risorse web e
front controller), <tt class="docutils literal"><code>app/</code></tt> (configurazione), <tt class="docutils literal"><code>src/</code></tt> (i propri bundle)
e <tt class="docutils literal"><code>vendor/</code></tt> (codice di terze parti) (c'è anche la cartella <tt class="docutils literal"><code>bin/</code></tt>, usata per aiutare
nell'aggiornamento delle librerire dei venditori);</li>
<li>ogni caratteristica in Symfony2 (incluso in nucleo del framework stesso) è organizzata in
<em>bundle</em>, insiemi strutturati di file relativi a tale caratteristica;</li>
<li>la <strong>configurazione</strong> per ciascun bundle risiede nella cartella <tt class="docutils literal"><code>app/config</code></tt> e
può essere specificata in YAML, XML o PHP;</li>
<li>la <strong>configuratione dell'applicazione</strong> globale si trova nella cartella
<tt class="docutils literal"><code>app/config</code></tt>;</li>
<li>ogni <strong>ambiente</strong> è accessibile tramite un diverso front controller (p.e.
<tt class="docutils literal"><code>app.php</code></tt> e <tt class="docutils literal"><code>app_dev.php</code></tt>) e carica un diverso file di configurazione.</li>
</ul>
<p>Da qui in poi, ogni capitolo introdurrà strumenti sempre più potenti e concetti
sempre più avanzati. Più si imparerà su Symfony2, più si apprezzerà la flessibilità
della sua architettura e la potenza che dà nello sviluppo rapido di
applicazioni.</p>
</div>
</div>

    </div>

            <div class="navigation">
                            <a accesskey="P" title="Installare e configurare Symfony" href="installation.html">
                    &laquo;&nbsp;Installare e configurare Symfony
                </a>
                        <span class="separator">|</span>                            <a accesskey="N" title="Il controllore" href="controller.html">
                    Il controllore&nbsp;&raquo;
                </a>
                    </div>

            <div class="box_hr"><hr /></div>

                                                                                </div>
                                                            </div>
                        
                        
                                                    <div class="box_relative_content">
    <div class="relative_content_box_columns clear_fix">
        <div class="column_01">
            <h2 class="title_05">NEWS FROM THE BLOG</h2>

<ul class="event_list">
            <li>
            <h3>
                <a href="/blog/symfony-2-3-schedule-update">
                    Symfony 2.3 schedule update<br />
                    <span class="place_date">April 30, 2013</span>
                </a>
            </h3>
        </li>
            <li>
            <h3>
                <a href="/blog/a-week-of-symfony-330-22-28-april-2013">
                    A week of symfony #330 (22-&gt;28 April 2013)<br />
                    <span class="place_date">April 28, 2013</span>
                </a>
            </h3>
        </li>
            <li>
            <h3>
                <a href="/blog/new-in-symfony-2-3-new-validators">
                    New in Symfony 2.3: New validators<br />
                    <span class="place_date">April 25, 2013</span>
                </a>
            </h3>
        </li>
    </ul>

<div class="link_01">
    <a href="/blog/" class="png_fix">Visit Symfony's blog</a>
</div>
        </div>

        <div class="column_02">
                        <h2 class="title_05">IN THE NEWS</h2>


<div class="upcoming_event clear_fix">
    <div>
        <a href="http://portland2013.live.symfony.com/" target="_blank">
            <img style="width: 100px" src="http://live.symfony.com/bundles/sensiosymfonylive/images/landing/sfl_portland.png" class="png_fix" alt="The Symfony Live Conference Portland 2013" />
        </a>
    </div>

    <div style="margin-top: 13px">
        <h3 style="font-size: 13px; font-family: 'Lucida Sans Unicode', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif">Announcing the next Symfony Live Conference 2013 in Portland</h3>
        <div style="margin-top: 5px">
            <a href="http://portland2013.live.symfony.com/registration/" class="non_extensible_button button_01">    <span class="border_l png_fix">
        <span class="border_r png_fix">
            <span class="btn_bg png_fix">
                REGISTER TODAY
            </span>
        </span>
    </span>
</a>
        </div>
    </div>
</div>

                    </div>

        <div class="column_03">
            <h2 class="title_05">UPCOMING TRAINING SESSIONS</h2>

<ul class="event_list">
        <li>
        <a href="http://trainings.sensiolabs.com/en/training/symfony-certification">
            Symfony2 Framework Certification
            <br />
            <span class="place_date">Cologne - 2013-04-26</span>
        </a>
    </li>
        <li>
        <a href="http://trainings.sensiolabs.com/en/training/getting-started-with-symfony2">
            Getting Started with Symfony2
            <br />
            <span class="place_date">Paris - 2013-05-13</span>
        </a>
    </li>
        <li>
        <a href="http://trainings.sensiolabs.com/en/training/getting-started-with-symfony2">
            Getting Started with Symfony2
            <br />
            <span class="place_date">Cologne - 2013-05-13</span>
        </a>
    </li>
    </ul>

<div class="link_01">
    <a href="http://trainings.sensiolabs.com/" class="png_fix">View all sessions</a>
</div>
        </div>
    </div>
</div>
                        
                    </div>
                            </div>

            
<div class="footer">
    <div class="content">
        <h2 class="title_02">
            <img src="/images/common/logo/logo_sf.png" alt="sf - Symfony" class="illustration_logo_footer png_fix"/> is a trademark of Fabien Potencier. All rights reserved.
        </h2>

        <div class="box_menu_footer clear_fix">
            <div class="menu_footer first">
                <h3 class="title_03"><a href="/what-is-symfony">What is Symfony?</a></h3>
                <ul class="list_menu_footer">
                    <li class="first"><a href="/symfony-at-a-glance">Symfony at a Glance</a></li>
<li><a href="/symfony-in-five-minutes">Symfony in 5 Minutes</a></li>
<li><a href="/elevator-pitches">Elevator Pitches</a></li>
<li><a href="/blog/category/case-studies">Case Studies</a></li>
<li><a href="/it/doc/current/contributing/community/releases.html">Versioning Policy</a></li>
<li><a href="/it/doc/current/contributing/community/releases.html#long-term-support-releases">Long Term Support</a></li>
<li><a href="/it/doc/current/contributing/code/security.html">Security Policy</a></li>
<li class="last"><a href="/it/doc/current/contributing/code/license.html">License</a></li>
                </ul>
            </div>

            <div class="menu_footer">
                <h3 class="title_03"><a href="/get_started">Get Started</a></h3>
                <ul class="list_menu_footer">
                    <li class="first"><a href="/download">Download Symfony</a></li>
<li><a href="/distributions">Symfony Distributions</a></li>
<li><a href="/components">Symfony Components</a></li>
<li><a href="/it/doc/current/quick_tour/the_big_picture.html">Quick Tour</a></li>
<li class="last"><a href="/legacy">symfony1 Legacy</a></li>
                </ul>

                <h3 class="title_03"><a href="/doc/current/index.html">Learn Symfony</a></h3>
                <ul class="list_menu_footer">
                    <li class="first selected"><a href="/it/doc/current/book/index.html">The Book</a></li>
<li><a href="/it/doc/current/cookbook/index.html">The Cookbook</a></li>
<li><a href="/it/doc/current/components/index.html">The Components</a></li>
<li><a href="/it/doc/current/reference/index.html">Reference</a></li>
<li><a href="/it/doc/current/glossary.html">Glossary</a></li>
<li><a href="/it/doc/current/genindex.html">Index</a></li>
<li><a href="/it/doc/current/bundles/index.html">Bundles</a></li>
<li><a href="/it/doc/master/cmf/index.html">Symfony CMF</a></li>
<li><a href="/it/doc/master/contributing/code/security.html#security-advisories">Security Advisories</a></li>
<li><a href="/legacy/doc">Docs for symfony 1.x</a></li>
<li><a href="/it/doc/current/contributing/index.html">Contributing</a></li>
<li><a href="/talks">Talks</a></li>
<li><a href="http://trainings.sensiolabs.com/">Trainings</a></li>
<li class="last"><a href="http://books.sensiolabs.com">Books</a></li>
                </ul>
            </div>

            <div class="menu_footer">
                <h3 class="title_03"><a href="/marketplace">Marketplace</a></h3>
                <ul class="list_menu_footer">
                </ul>

                <h3 class="title_03"><a href="/community">Community</a></h3>
                <ul class="list_menu_footer">
                    <li><a href="https://connect.sensiolabs.com/">SensioLabs Connect</a></li>
<li><a href="/irc">IRC channel</a></li>
<li><a href="/mailing-lists">Mailing lists</a></li>

<li><a href="http://forum.symfony-project.org/">Forum</a></li>
<li><a href="/it/doc/current/contributing/index.html">How to be involved</a></li>
                </ul>
            </div>

            <div class="menu_footer">
                <h3 class="title_03"><a href="/services">Services</a></h3>
                <ul class="list_menu_footer">
                    <li><a href="/services/list">Our services</a></li>
<li><a href="/services/guide#before">Starting a new project</a></li>
<li><a href="/services/guide#during">Struggling with your project</a></li>
<li><a href="http://sensiolabs.com/en/support/sensiolabs_support.html">Support</a></li>
<li><a href="/services/request">Contact us</a></li>
                </ul>
            </div>

            <div class="menu_footer">
                <h3 class="title_03"><a href="/blog/">Blog</a></h3>
                <ul class="list_menu_footer">
                    <li><a href="/events/"><em>Community Events</em></a></li>

    <li><a href="/blog/category/a-week-of-symfony">A week of symfony</a></li>
    <li><a href="/blog/category/call-the-expert">Call the expert</a></li>
    <li><a href="/blog/category/case-studies">Case studies</a></li>
    <li><a href="/blog/category/community">Community</a></li>
    <li><a href="/blog/category/documentation">Documentation</a></li>
    <li><a href="/blog/category/living-on-the-edge">Living on the edge</a></li>
    <li><a href="/blog/category/plugins">Plugins</a></li>
    <li><a href="/blog/category/releases">Releases</a></li>
    <li><a href="/blog/category/security-advisories">Security Advisories</a></li>
    <li><a href="/blog/category/tutorials">Tutorials</a></li>
                </ul>
            </div>

            <div class="menu_footer">
                <h3 class="title_03"><a href="/about">About</a></h3>
                <ul class="list_menu_footer">
                    <li><a href="http://www.sensiolabs.com/">Sensio Labs</a></li>
<li><a href="/contributors">Contributors</a></li>
<li><a href="/trademark">Trademark &amp; Logo Policy</a></li>
<li><a href="/logo">Logo</a></li>
<li><a href="http://sensiolabs.com/recrutement/rejoignez_nous.html">Jobs</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
        </div>

        <script type="text/javascript">
            (function(w, d, s) {
                function go() {
                    var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
                        if (d.getElementById(id)) {return;}
                        js = d.createElement(s); js.src = url; js.id = id;
                        fjs.parentNode.insertBefore(js, fjs);
                    };
                    load('https://connect.sensiolabs.com/sln.js?customize_url=http://symfony.com/sln_customiser.js', 'sln_bar');
                }
                if (w.addEventListener) { w.addEventListener("load", go, false); }
                else if (w.attachEvent) { w.attachEvent("onload",go); }
            } (window, document, 'script'));
        </script>
                    </body>
</html>
